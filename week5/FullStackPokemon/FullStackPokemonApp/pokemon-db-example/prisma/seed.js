const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

const pokemonData = [
  {
    id: 1,
    name: "Bulbasaur",
    type: "Grass/Poison",
    description:
      "There is a plant seed on its back right from the day this PokÃ©mon is born. The seed slowly grows larger.",
    imageUrl: "https://img.pokemondb.net/artwork/large/bulbasaur.jpg",
  },
  {
    id: 2,
    name: "Charmander",
    type: "Fire",
    description:
      "It has a preference for hot things. When it rains, steam is said to spout from the tip of its tail.",
    imageUrl: "https://img.pokemondb.net/artwork/large/charmander.jpg",
  },
  {
    id: 3,
    name: "Squirtle",
    type: "Water",
    description:
      "When it retracts its long neck into its shell, it squirts out water with vigorous force.",
    imageUrl: "https://img.pokemondb.net/artwork/large/squirtle.jpg",
  },
  {
    id: 4,
    name: "Pikachu",
    type: "Electric",
    description:
      "Pikachu that can generate powerful electricity have cheek sacs that are extra soft and super stretchy.",
    imageUrl: "https://img.pokemondb.net/artwork/large/pikachu.jpg",
  },
  {
    id: 5,
    name: "Jigglypuff",
    type: "Fairy",
    description:
      "Jigglypuff's vocal cords can freely adjust the wavelength of its voice. This PokÃ©mon uses this ability to sing at precisely the right wavelength to make its foes most drowsy.",
    imageUrl: "https://img.pokemondb.net/artwork/large/jigglypuff.jpg",
  },
  {
    id: 6,
    name: "Meowth",
    type: "Normal",
    description:
      "It loves to collect shiny things. If it's in a good mood, it might even let its Trainer play with its hoard of treasures.",
    imageUrl: "https://img.pokemondb.net/artwork/large/meowth.jpg",
  },
  {
    id: 7,
    name: "Psyduck",
    type: "Water",
    description:
      "It is constantly wracked by a headache. When the headache turns intense, it begins using mysterious powers.",
    imageUrl: "https://img.pokemondb.net/artwork/large/psyduck.jpg",
  },
  {
    id: 8,
    name: "Machop",
    type: "Fighting",
    description:
      "It loves working out and builds its muscles by carrying other PokÃ©mon as weights.",
    imageUrl: "https://img.pokemondb.net/artwork/large/machop.jpg",
  },
  {
    id: 9,
    name: "Gengar",
    type: "Ghost/Poison",
    description:
      "On the night of a full moon, if shadows move on their own and laugh, it must be Gengarâ€™s doing.",
    imageUrl: "https://img.pokemondb.net/artwork/large/gengar.jpg",
  },
  {
    id: 10,
    name: "Eevee",
    type: "Normal",
    description:
      "Thanks to its unstable genetic makeup, this special PokÃ©mon conceals many different possible evolutions.",
    imageUrl: "https://img.pokemondb.net/artwork/large/eevee.jpg",
  },
];

async function main() {
  console.log(`ðŸŒ± Seeding database with PokÃ©mon...`);
  for (const pokemon of pokemonData) {
    await prisma.pokemon.upsert({
      where: { name: pokemon.name }, // name is marked as @unique
      update: {},
      create: {
        name: pokemon.name,
        type: pokemon.type,
        description: pokemon.description,
        imageUrl: pokemon.imageUrl,
      },
    });
  }
  console.log(`âœ… Seeding completed.`);
}

main()
  .then(async () => {
    await prisma.$disconnect();
  })
  .catch(async (e) => {
    console.error(e);
    await prisma.$disconnect();
    process.exit(1);
  });
